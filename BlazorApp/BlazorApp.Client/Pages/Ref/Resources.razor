@page "/Resource"
@rendermode InteractiveWebAssembly
@using ClassLibrary.Models;


@inject  HttpClient HttpClient
<h3>Ресурсы</h3>
@if (resources == null)
{
    <p><em>Loading...</em></p>
}
else
{
    @foreach (var resourc in  resources)
    {
        <p>@resourc.Name</p>
        <p>@resourc.condition.Name</p>
    }
}

@code {
    IEnumerable<Resource> resources ;
    protected override async Task OnInitializedAsync()
    {

        // httpClientFactory.CreateClient("ApiClient");
    // https://localhost:7166/api/
        var client = await HttpClient.GetFromJsonAsync<IEnumerable<Resource>>("Resources");
        resources = client;
        // return base.OnInitializedAsync();
    }
}

